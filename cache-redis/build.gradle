/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'com.ag04.quarkus.java-library-conventions'
    id 'net.researchgate.release'
}

def props = new Properties()
file("../.env").withInputStream { props.load(it) }

repositories {
    mavenCentral()
    maven {
        name = "GitHubPackages"
        url = uri("https://maven.pkg.github.com/wearenotch/cache-api")
        credentials {
            username = System.getenv("gh_username") ?: props.getProperty("gh_username")
            password = System.getenv("gh_token") ?: props.getProperty("gh_token")
        }
    }
}

dependencies {
    //api project(':cache-api')
    api "com.ag04.quarkus:cache-api:${cacheApiVersion}"
    implementation "org.redisson:redisson-quarkus-20:${redissonVersion}"
}

release {
  tagTemplate = '${version}-cache-redis'
  git {
        requireBranch.set('master')
  }
}

afterReleaseBuild.dependsOn publish